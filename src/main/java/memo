서블릿 예외처리 - 시작

스플링이 아닌 순수 서블릿 컨테이너는 예외를 어떻게 처리하는지 알아보자

서블릿은 다음 2가지 방식으로 예외를 처리한다
(1)Exception 예외
(2)response.sendError(HTTP상태코두,오류 메시지)

Exception예외
자바 직접 실행
자바의 메인 메서드를 직접 실행하는 경우 main이라는 이름의 쓰레드가 실행된다.
실행도중에 예외를 잡지 못하고 처음 실행한 main()메서드를 넘어가서 예외가 던져지면 예외 정보를 남기고 해당 쓰레드는 종료된다

웹 애플리케이션
웹 애플리 케이션은 사용자가 요청 별도로 별도의 쓰레드가

서블릿은 Exception이 발생해서 서블릿 밖으로 전달되거나 또는 response.sendError()가 호출 되었을때 설정된
오류 페이지를 찾는다.


정리해보자
예외가 발생해서 WAS까지 전파된다.
WAS는 오류 페이지 경로를 찾아서 내부에서 오류페이지를 호출한다. 이때 오류 페이지 경로로 필터,서블잇,인터넷ㅂ터,컨트롤러 모두 다시 호출된다.

WAS는 오류 페이지를 단순히 다시 요청하는게 아니라 오류 정보를 request의 attribute에 추가해서 넘겨준다
필요하면 오류페이지에서 이렇게 전달된 오류 정보를 사용할수있다.

스프링 부트의 오류 페이지 과정제공
1)ErrorPage를 자동으로 등록한다 이때 /error라는 경로로 기본 오류 페이지를 설정한다.
2)BasicErrorController라는 스프링 컨트롤러를 자동으로 등록한다.
ErrorPage에서 등록한 /error를 매핑해서 처리하느ㅜㄴ 컨트롤러이다.